## 前言

​    **函数**，最早由中国清朝数学家李善兰翻译，出于其著作《代数学》。之所以这么翻译，他给出的原因是“凡此变数中函彼变数者，则此为彼之函数”，也即函数指一个量随着另一个量的变化而变化，或者说一个量中包含另一个量。

**在程序中**：

> 函数是指一段在一起的、可以做某一件事儿的程序。也叫做子程序、（OOP中）方法。
>
> 一个较大的[程序](https://baike.baidu.com/item/程序/13831935)一般应分为若干个程序块，每一个模块用来实现一个特定的功能。所有的高级语言中都有子程序这个概念，用子程序实现模块的功能。在[C语言](https://baike.baidu.com/item/C语言)中，子程序的作用是由一个主函数和若干个函数构成。由主函数调用其他函数，其他函数也可以互相调用。同一个函数可以被一个或多个函数调用任意多次。
>
> 在程序设计中，常将一些常用的功能模块编写成函数，放在函数库中供公共选用。要**善于利用函数**，以减少重复编写程序段的工作量。
>
> 函数分为[全局函数](https://baike.baidu.com/item/全局函数/10185428)、全局[静态函数](https://baike.baidu.com/item/静态函数/5644260)；在[类](https://baike.baidu.com/item/类/6824577)中还可以定义[构造函数](https://baike.baidu.com/item/构造函数/7478717)、[析构函数](https://baike.baidu.com/item/析构函数/9483718)、[拷贝构造函数](https://baike.baidu.com/item/拷贝构造函数/9344013)、[成员函数](https://baike.baidu.com/item/成员函数/2440706)、[友元函数](https://baike.baidu.com/item/友元函数/9569177)、[运算符重载](https://baike.baidu.com/item/运算符重载/2109844)函数、[内联函数](https://baike.baidu.com/item/内联函数/9567625)等。
>
> 引用自[百度-名词解释：函数](https://baike.baidu.com/item/函数/18686609)



编程语言都支持几种不同的方式来分解问题︰

- 大多数编程语言是**过程性的**：程序是指令的列表，告诉计算机如何处理程序的输入。C、Pascal甚至Unix shell都是过程语言。
- 在**声明性**语言中，你编写一个描述要解决的问题的规范，而语言的实现计算出如何有效地执行计算。SQL是你最有可能熟悉的声明性语言； SQL查询描述要检索的数据集，SQL引擎决定是扫描表还是使用索引，哪些子语句应首先执行等。
- **面向对象**程序操作对象的容器。对象具有内部状态以及以某种方式查询或修改此内部状态的支撑方法。Smalltalk和Java是面向对象的语言。C++和Python是支持面向对象编程的语言，但不强制使用面向对象的特性。
- **函数式**编程将问题分解为一组函数。理想情况下，函数只接受输入并产生输出，并且没有影响给定输入产生的输出的任何内部状态。众所周知的函数式语言包括ML家族（标准ML，OCaml和其他变体）和Haskell。

一些计算机语言的设计者选择强调一种特定的编程方法。这通常使得使用不同方法编写程序变得困难。其他语言是支持几种不同方法的多范式语言。Lisp、C++和Python是多范式的；你可以编写程序或库，在所有这些语言中这些程序或库大部分是过程性的、面向对象的或函数式的。在大型程序中，可能使用不同的方法编写不同的片段； 例如，GUI可以是面向对象的，而处理逻辑是过程的或函数式的。

在函数式程序中，输入流过一组函数。每个函数对其输入进行操作并产生一些输出。函数式风格防止了函数的副作用，如修改内部状态或在函数返回值中不可见的其他更改。完全没有副作用的函数称为**纯粹函数式**。避免副作用意味着不使用随着程序运行而更新的数据结构；每个函数的输出必须只取决于它的输入。

一些语言对纯度非常严格，甚至没有赋值语句，例如`a=3`或`c = a + b`，但很难避免所有副作用。例如，打印到屏幕或写入磁盘文件就是副作用。例如，在Python中，对print()或time.sleep()函数的调用都不返回有用的值；调用它们就是要它们的副作用发送一些文本到屏幕或暂停执行一秒钟。

以函数式样式编写的Python程序通常不会走向避开所有I/O或所有赋值这样的极端；相反，它们将提供一个函数式外观的接口，但内部使用非函数式特性。例如，函数的实现仍将使用赋值到局部变量，但不会修改全局变量或具有其他副作用。

函数式编程可以被视为与面向对象编程相反。对象是包含一些内部状态的封装，以及一个允许你修改此状态的方法调用的容器，程序由正确的状态变化集合组成。函数式编程希望尽可能避免状态变化，并且在函数之间使用数据流。在Python中，你可以通过编写接收和返回表示应用程序中对象的实例的函数来组合这两种方法（电子邮件，事务等）。

函数式设计可能看起来像一个奇怪的约束。为什么要避免对象和副作用？函数式风格有理论和实践上的优点：

- **形式上的可证明性**
- **模块化。**
- **可组合性。**
- **易于调试和测试。**



### 形式上的可证明性

理论上的好处是，更容易构建数学证明证明函数式程序是正确。

很长一段时间里，研究人员一直对找到数学证明证明程序正确的方法感兴趣。这与从巨大的输入上测试程序并得出结论其输出通常是正确的，或者读取程序的源代码并得出结论代码看起来正确不同；其目标是一个严格的证明，程序对所有可能的输入产生正确的结果。

用于证明程序正确的技术是记下**不变量**，输入数据的属性和程序变量的属性总是为真。对于每行代码，你将显示如果不变量X和Y在这行**之前**执行，则稍微不同的不变量X'和Y'在这行执行**之后**为真。这将持续直到程序的结尾，此时不变量应该匹配程序输出上的所需条件。

函数式编程避免了赋值，因为赋值很难用这种技术处理；赋值可能打破在赋值之前为真的不变量，而不产生可以向前传播的任何新的不变量。

不幸的是，验证程序正确是很大程度上不切实际，与Python软件无关。即使是微不足道的程序也需要几页长的证据；一个中等复杂程序的正确性的证明将是巨大的，你每天使用的程序（Python解释器，你的XML解析器，你的Web浏览器）很少或没有一个可以证明是正确的。即使你记下或产生了一份证明，也会有验证证据的问题；也许有一个错误，你错误地认为你已经证明程序正确。

### 模块性

函数式编程的一个更实际的好处是它迫使你把你的问题分解成小块。因此，程序更模块化。比起执行复杂变换的大函数，指定和编写一个小的函数更容易。小功能也更容易阅读和检查错误。

### 易于调试和测试

测试和调试函数式风格的程序更容易。

调试简单是因为函数通常很小并且明确指定。当程序不工作时，每个函数都是一个接口点，你可以在其中检查数据是否正确。你可以查看中间输入和输出，以快速隔离导致错误的函数。

测试更容易，因为每个函数都是单元测试的潜在对象。函数不依赖于在运行测试之前需要复制的系统状态；而只需要合成正确的输入，然后检查输出是否符合预期。

### 可组合性

当你在一个函数式程序上工作时，你将编写一些具有不同输入和输出的函数。这些函数中的一些将不可避免地专用于特定应用，但是其他函数将在各种各样的程序中有用。例如，获取目录路径并返回目录中的所有XML文件的函数或者获取文件名并返回其内容的函数可以应用于许多不同的情况。

随着时间的推移，你将形成一个个人的公用库。通常，你将通过在新配置中排列现有函数并编写专用于当前任务的几个函数来组合新程序。





